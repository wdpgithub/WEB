<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <script type="text/javascript">
    /*
        回调地狱、Promise
     */
    </script>
</head>
<body>

</body>
</html>

<!-- Promise -->
<script type="text/javascript">
    //通过Promise这个构造函数,来创建一个对象
    //这个Promise对象,它有三种状态:pending 、fulfill 、reject状态
    //Promise构造函数，在一个参数，这个参数是一个回调，这个回调，接收两个参数，都能改变
    //Promise对象的状态，第一个参数，可以将状态从pending==>fulfill,而第二个参数，可以将状态pending===>reject


    // var promise = new Promise(function(resolve,reject){
    //     if(/*成功*/){
    //         resolve()
    //    }else{
    //     reject()
    //    }
    // })


    var promise = new Promise(function(resolve,reject){
        setInterval(function(){
            var num = Math.floor(Math.random()*100);
            if (num%2==0) {
                resolve(num);
            }else{
                reject(num);
            }
        },300)
    })


    promise.then(function(num){
        console.log('reslove:' + num);
    }).catch(function(num){
        console.log('reject:' + num);
    })
</script>
